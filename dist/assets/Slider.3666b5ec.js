import{k as e,i as o,y as a,n as l,A as n,q as r,m as t,l as i,s}from"./vendor.a926ca27.js";import{e as d,a as u,c,g as h,h as v,A as f,B as m,u as b,i as p,k as g,o as x,l as y}from"./light.f92f6943.js";import{f as w,g as k,a as C,u as S,j as A,h as M,V as H,o as B}from"./fade-in-scale-up.cssr.85d45d5e.js";var z={railHeight:"4px",handleSize:"18px",dotHeight:"8px",dotWidth:"8px",dotBorderRadius:"4px"};var T={name:"Slider",common:d,self:e=>{const{railColor:o,primaryColor:a,baseColor:l,cardColor:n,modalColor:r,popoverColor:t,borderRadius:i,fontSize:s,opacityDisabled:d}=e;return Object.assign(Object.assign({},z),{fontSize:s,railColor:o,railColorHover:o,fillColor:a,fillColorHover:a,opacityDisabled:d,handleColor:"#FFF",dotColor:n,dotColorModal:r,dotColorPopover:t,handleBoxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.3), inset 0 0 1px 0 rgba(0, 0, 0, 0.05)",handleBoxShadowHover:"0 1px 4px 0 rgba(0, 0, 0, 0.3), inset 0 0 1px 0 rgba(0, 0, 0, 0.05)",handleBoxShadowActive:"0 1px 4px 0 rgba(0, 0, 0, 0.3), inset 0 0 1px 0 rgba(0, 0, 0, 0.05)",handleBoxShadowFocus:"0 1px 4px 0 rgba(0, 0, 0, 0.3), inset 0 0 1px 0 rgba(0, 0, 0, 0.05)",indicatorColor:"rgba(0, 0, 0, .85)",indicatorBoxShadow:"0 2px 8px 0 rgba(0, 0, 0, 0.12)",indicatorTextColor:l,indicatorBorderRadius:i,dotBorder:`2px solid ${o}`,dotBorderActive:`2px solid ${a}`,dotBoxShadow:""})}},F=u([c("slider","\n display: block;\n padding: calc((var(--handle-size) - var(--rail-height)) / 2) 0;\n position: relative;\n z-index: 0;\n width: 100%;\n cursor: pointer;\n ",[c("slider-marks","\n position: absolute;\n top: 18px;\n left: calc(var(--handle-size) / 2);\n right: calc(var(--handle-size) / 2);\n ",[c("slider-mark",{position:"absolute",transform:"translateX(-50%)"})]),h("disabled","\n cursor: not-allowed;\n opacity: var(--opacity-disabled);\n ",[c("slider-handle","\n cursor: not-allowed;\n ")]),h("with-mark","\n width: 100%;\n margin: 8px 0 32px 0;\n "),u("&:hover",[c("slider-rail",{backgroundColor:"var(--rail-color-hover)"},[v("fill",{backgroundColor:"var(--fill-color-hover)"})]),c("slider-handle",{boxShadow:"var(--handle-box-shadow-hover)"})]),h("active",[c("slider-rail",{backgroundColor:"var(--rail-color-hover)"},[v("fill",{backgroundColor:"var(--fill-color-hover)"})]),c("slider-handle",{boxShadow:"var(--handle-box-shadow-hover)"})]),c("slider-rail","\n width: 100%;\n position: relative;\n height: var(--rail-height);\n background-color: var(--rail-color);\n transition: background-color .3s var(--bezier);\n border-radius: calc(var(--rail-height) / 2);\n ",[v("fill","\n position: absolute;\n top: 0;\n bottom: 0;\n border-radius: calc(var(--rail-height) / 2);\n transition: background-color .3s var(--bezier);\n background-color: var(--fill-color);\n ")]),c("slider-handle","\n outline: none;\n height: var(--handle-size);\n width: var(--handle-size);\n border-radius: 50%;\n transition: box-shadow .2s var(--bezier), background-color .3s var(--bezier);\n position: absolute;\n top: 0;\n transform: translateX(-50%);\n overflow: hidden;\n cursor: pointer;\n background-color: var(--handle-color);\n box-shadow: var(--handle-box-shadow);\n ",[u("&:hover",{boxShadow:"var(--handle-box-shadow-hover)"}),u("&:hover:focus",{boxShadow:"var(--handle-box-shadow-active)"}),u("&:focus",{boxShadow:"var(--handle-box-shadow-focus)"})]),c("slider-dots","\n position: absolute;\n top: 50%;\n left: calc(var(--handle-size) / 2);\n right: calc(var(--handle-size) / 2);\n ",[h("transition-disabled",[c("slider-dot",{transition:"none"})]),c("slider-dot","\n transition:\n border-color .3s var(--bezier),\n box-shadow .3s var(--bezier),\n background-color .3s var(--bezier);\n position: absolute;\n transform: translateX(-50%) translateY(-50%);\n height: var(--dot-height);\n width: var(--dot-width);\n border-radius: var(--dot-border-radius);\n overflow: hidden;\n box-sizing: border-box;\n border: var(--dot-border);\n background-color: var(--dot-color);\n ",[h("active",{border:"var(--dot-border-active)"})])])]),c("slider-handle-indicator","\n font-size: var(--font-size);\n padding: 6px 10px;\n margin-bottom: 12px;\n border-radius: var(--indicator-border-radius);\n color: var(--indicator-text-color);\n background-color: var(--indicator-color);\n box-shadow: var(--indicator-box-shadow);\n ",[w()]),f(c("slider",[c("slider-dot",{backgroundColor:"var(--dot-color-modal)"})])),m(c("slider",[c("slider-dot",{backgroundColor:"var(--dot-color-popover)"})]))]);function R(e){return window.TouchEvent&&e instanceof window.TouchEvent}var D=e({name:"Slider",props:Object.assign(Object.assign({},p.props),{to:S.propTo,defaultValue:{type:[Number,Array],default:0},marks:Object,disabled:{type:Boolean,default:void 0},formatTooltip:Function,min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},range:Boolean,value:[Number,Array],placement:{type:String,default:"top"},showTooltip:{type:Boolean,default:void 0},tooltip:{type:Boolean,default:!0},"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onChange:{type:[Function,Array],validator:()=>!0,default:void 0}}),setup(e){const{mergedClsPrefixRef:t,namespaceRef:i}=b(e),d=p("Slider","Slider",F,T,e,t),u=g(e),{mergedDisabledRef:c}=u,h=o(null),v=o(null),f=o(null),m=o(null),w=o(null),A=a((()=>{const o=[e.min,e.max,e.step].map((e=>{const o=String(e).split(".")[1];return o?o.length:0}));return Math.max(...o)})),M=o(e.defaultValue),H=l(e,"value"),z=k(H,M),D=o(0),$=o(null),V=o(!1),j=o(!1),E=o(!1),O=o(!1),N=l(e,"showTooltip"),X=k(N,V),I=k(N,j),P=o(!1),L=a((()=>V.value||j.value)),U=o(L.value),K=a((()=>E.value||O.value)),W=a((()=>{const o=[],{marks:a,max:l,min:n}=e;if(a){const{value:e}=z;for(const r of Object.keys(a)){const t=Number(r);o.push({active:Array.isArray(e)?e[0]<=t&&e[1]>=t:null!==e&&e>=t,label:a[r],style:{left:(t-n)/(l-n)*100+"%"}})}}return o})),_=a((()=>{const{max:o,min:a,range:l}=e;return l?{left:(q.value-a)/(o-a)*100+"%",width:(Y.value-q.value)/(o-a)*100+"%"}:{left:0,width:(q.value-a)/(o-a)*100+"%"}})),q=a((()=>{const{value:e}=z;return Array.isArray(e)?le(e[0]):le(e)})),Y=a((()=>{const{value:e}=z;return Array.isArray(e)?le(e[1]):0})),G=a((()=>{const{value:o}=q,{value:a}=E,{max:l,min:n}=e,r=(o-n)/(l-n)*100;return{left:`${r}%`,transform:`translateX(${-r}%)`,zIndex:a?1:0}})),J=a((()=>{const{value:o}=Y,{value:a}=O,{max:l,min:n}=e,r=(o-n)/(l-n)*100;return{left:`${r}%`,transform:`translateX(${-r}%)`,zIndex:a?1:0}}));function Q(o){const{onChange:a,"onUpdate:value":l,onUpdateValue:n}=e,{nTriggerFormInput:r,nTriggerFormChange:t}=u;a&&y(a,o),n&&y(n,o),l&&y(l,o),M.value=o,r(),t()}function Z(e,o){void 0!==e&&(V.value=e),void 0!==o&&(j.value=o)}function ee(){var e,o;null===(e=m.value)||void 0===e||e.syncPosition(),null===(o=w.value)||void 0===o||o.syncPosition()}function oe(o,a){if(!h.value||!f.value)return;const l="touches"in o?o.touches[0].clientX:o.clientX,{width:n}=h.value.getBoundingClientRect(),{width:r,left:t}=f.value.getBoundingClientRect(),{min:i,max:s,range:d}=e,u=i+(s-i)*((l-t-n/2)/(r-n));re(d?0===a?[D.value,u]:[u,D.value]:u)}function ae(){if(e.range){const e=h.value,o=v.value;e&&o&&(V.value&&document.activeElement===o?(se(),e.focus(),O.value&&(O.value=!1,E.value=!0)):j.value&&document.activeElement===e&&(se(),o.focus(),E.value&&(E.value=!1,O.value=!0)))}}function le(o){let a=o;const{min:l,max:n,marks:r,step:t}=e;if(a=Math.max(l,a),a=Math.min(n,a),a=Math.round((a-l)/t)*t+l,a=parseFloat(a.toFixed(A.value)),r){const l=function(o){const{marks:a}=e;if(a){const e=Object.keys(a).map((e=>Number(e)));let l=null,n=null;for(const a of e)if(null===n)n=a,l=Math.abs(a-o);else{const e=Math.abs(a-o);e<l&&(n=a,l=e)}return n}return null}(o);null!==l&&Math.abs(a-o)>Math.abs(l-o)&&(a=l)}return a}function ne(o){var a,l;!R(o)&&((null===(a=h.value)||void 0===a?void 0:a.contains(o.target))||e.range&&(null===(l=v.value)||void 0===l?void 0:l.contains(o.target)))||Z(!1,!1),O.value=!1,E.value=!1,C("touchend",document,ne),C("mouseup",document,ne),C("touchmove",document,te),C("touchmove",document,ie),C("mousemove",document,te),C("mousemove",document,ie)}function re(o,a={source:null}){const{source:l}=a,{range:n}=e;if(n){if(Array.isArray(o)){o=o[0]>o[1]?[le(o[1]),le(o[0])]:[le(o[0]),le(o[1])];const{value:e}=z;Array.isArray(e)&&e[0]===o[0]&&e[1]===o[1]||($.value=l,Q(o))}}else if(!Array.isArray(o)){const{max:a,min:n}=e,{value:r}=z;if(o>a)r!==a&&($.value=l,Q(a));else if(o<n)r!==n&&($.value=l,Q(n));else{const e=le(o);r!==e&&($.value=l,Q(e))}}}function te(e){oe(e,0)}function ie(e){oe(e,1)}function se(){h.value&&(h.value.style.transition="none",s((()=>{h.value&&(h.value.style.transition="")}))),v.value&&(v.value.style.transition="none",s((()=>{v.value&&(v.value.style.transition="")})))}return n(L,(e=>{s((()=>{U.value=e}))})),n(z,((o,a)=>{const{value:l}=$;if(e.marks){if(P.value)return;P.value=!0,s((()=>{P.value=!1}))}e.range&&Array.isArray(o)&&Array.isArray(a)&&(a&&a[1]!==o[1]?s((()=>{"click"!==l&&Z(!1,!0),ae()})):a&&a[0]!==o[0]?s((()=>{"click"!==l&&Z(!0,!1),ae()})):o[0]===o[1]&&s((()=>{"click"!==l&&Z(!1,!0),ae()}))),s((()=>{setTimeout((()=>{$.value=null}),0),e.range?Array.isArray(o)&&Array.isArray(a)&&(o[0]===a[0]&&o[1]===a[1]||ee()):ee()}))})),r((()=>{C("touchmove",document,te),C("touchmove",document,ie),C("mousemove",document,te),C("mousemove",document,ie),C("touchend",document,ne),C("mouseup",document,ne)})),{mergedClsPrefix:t,namespace:i,uncontrolledValue:M,mergedValue:z,mergedDisabled:c,isMounted:x(),adjustedTo:S(e),handleValue1:q,handleValue2:Y,mergedShowTooltip1:X,mergedShowTooltip2:I,handleActive1:V,handleActive2:j,handleClicked1:E,handleClicked2:O,memoziedOtherValue:D,active:L,prevActive:U,clicked:K,dotTransitionDisabled:P,markInfos:W,handleRef1:h,handleRef2:v,railRef:f,followerRef1:m,followerRef2:w,firstHandleStyle:G,secondHandleStyle:J,fillStyle:_,handleKeyDown:function(o){if(!c.value)switch(o.code){case"ArrowRight":!function(){if(K.value)return;let o=!1,a=null;document.activeElement===h.value?(o=!0,a=q.value):a=Y.value;const{step:l,marks:n}=e;let r=Math.floor(a/l)*l+l;if(n)for(const e of Object.keys(n)){const o=Number(e);o>a&&o<r&&(r=o)}e.range?re(o?[r,Y.value]:[q.value,r],{source:"keyboard"}):re(r,{source:"keyboard"})}();break;case"ArrowLeft":!function(){if(K.value)return;let o=!1,a=null;if(document.activeElement===h.value)o=!0,a=q.value;else{if(document.activeElement!==v.value)return;a=Y.value}const{step:l,marks:n}=e;let r=Math.ceil(a/l)*l-l;if(n)for(const e of Object.keys(n)){const o=Number(e);o<a&&o>r&&(r=o)}e.range?re(o?[r,Y.value]:[q.value,r],{source:"keyboard"}):re(r,{source:"keyboard"})}()}},handleRailClick:function(o){var a,l,n,r;if(c.value)return;const{value:t}=f;if(!t)return;const i=t.getBoundingClientRect(),s=(o.clientX-i.left)/i.width,d=e.min+(e.max-e.min)*s;e.range?Array.isArray(z.value)?Math.abs(q.value-d)<Math.abs(Y.value-d)?(re([d,Y.value],{source:"click"}),null===(l=h.value)||void 0===l||l.focus()):(re([q.value,d],{source:"click"}),null===(n=v.value)||void 0===n||n.focus()):(re([d,d],{source:"click"}),null===(r=h.value)||void 0===r||r.focus()):(re(d,{source:"click"}),null===(a=h.value)||void 0===a||a.focus())},handleHandleFocus1:function(){K.value||Z(!0,!1)},handleHandleBlur1:function(){K.value||Z(!1,!1)},handleFirstHandleMouseDown:function(o){c.value||(R(o)&&o.preventDefault(),e.range&&(D.value=Y.value),Z(!0,!1),E.value=!0,B("touchend",document,ne),B("mouseup",document,ne),B("touchmove",document,te),B("mousemove",document,te))},handleFirstHandleMouseEnter:function(){L.value||(Z(!0,void 0),s((()=>{ee()})))},handleFirstHandleMouseLeave:function(){"keyboard"!==$.value&&(L.value&&K.value||Z(!1,!1))},handleHandleFocus2:function(){K.value||Z(!1,!0)},handleHandleBlur2:function(){K.value||Z(!1,!1)},handleSecondHandleMouseDown:function(o){c.value||(R(o)&&o.preventDefault(),e.range&&(D.value=q.value),Z(!1,!0),O.value=!0,B("touchend",document,ne),B("mouseup",document,ne),B("touchmove",document,ie),B("mousemove",document,ie))},handleSecondHandleMouseEnter:function(){L.value||(Z(void 0,!0),s((()=>{ee()})))},handleSecondHandleMouseLeave:function(){"keyboard"!==$.value&&(L.value&&K.value||Z(!1,!1))},indicatorCssVars:a((()=>{const{self:{fontSize:e,indicatorColor:o,indicatorBoxShadow:a,indicatorTextColor:l,indicatorBorderRadius:n}}=d.value;return{"--font-size":e,"--indicator-border-radius":n,"--indicator-box-shadow":a,"--indicator-color":o,"--indicator-text-color":l}})),cssVars:a((()=>{const{self:{railColor:e,railColorHover:o,fillColor:a,fillColorHover:l,handleColor:n,opacityDisabled:r,dotColor:t,dotColorModal:i,handleBoxShadow:s,handleBoxShadowHover:u,handleBoxShadowActive:c,handleBoxShadowFocus:h,dotBorder:v,dotBoxShadow:f,railHeight:m,handleSize:b,dotHeight:p,dotWidth:g,dotBorderRadius:x,fontSize:y,dotBorderActive:w,dotColorPopover:k},common:{cubicBezierEaseInOut:C}}=d.value;return{"--bezier":C,"--dot-border":v,"--dot-border-active":w,"--dot-border-radius":x,"--dot-box-shadow":f,"--dot-color":t,"--dot-color-modal":i,"--dot-color-popover":k,"--dot-height":p,"--dot-width":g,"--fill-color":a,"--fill-color-hover":l,"--font-size":y,"--handle-box-shadow":s,"--handle-box-shadow-active":c,"--handle-box-shadow-focus":h,"--handle-box-shadow-hover":u,"--handle-color":n,"--handle-size":b,"--opacity-disabled":r,"--rail-color":e,"--rail-color-hover":o,"--rail-height":m}}))}},render(){const{mergedClsPrefix:e,formatTooltip:o}=this;return t("div",{class:[`${e}-slider`,{[`${e}-slider--disabled`]:this.mergedDisabled,[`${e}-slider--active`]:this.active,[`${e}-slider--with-mark`]:this.marks}],style:this.cssVars,onKeydown:this.handleKeyDown,onClick:this.handleRailClick},t("div",{ref:"railRef",class:`${e}-slider-rail`},t("div",{class:`${e}-slider-rail__fill`,style:this.fillStyle}),this.marks?t("div",{class:[`${e}-slider-dots`,{[`${e}-slider-dots--transition-disabled`]:this.dotTransitionDisabled}]},this.markInfos.map((o=>t("div",{key:o.label,class:[`${e}-slider-dot`,{[`${e}-slider-dot--active`]:o.active}],style:o.style})))):null),t(A,null,{default:()=>[t(M,null,{default:()=>t("div",{ref:"handleRef1",class:`${e}-slider-handle`,tabindex:this.mergedDisabled?-1:0,style:this.firstHandleStyle,onFocus:this.handleHandleFocus1,onBlur:this.handleHandleBlur1,onTouchstart:this.handleFirstHandleMouseDown,onMousedown:this.handleFirstHandleMouseDown,onMouseenter:this.handleFirstHandleMouseEnter,onMouseleave:this.handleFirstHandleMouseLeave})}),this.tooltip&&t(H,{ref:"followerRef1",show:this.mergedShowTooltip1,to:this.adjustedTo,teleportDisabled:this.adjustedTo===S.tdkey,placement:this.placement,containerClass:this.namespace},{default:()=>t(i,{name:"fade-in-scale-up-transition",appear:this.isMounted,css:!(this.active&&this.prevActive)},{default:()=>this.mergedShowTooltip1?t("div",{class:`${e}-slider-handle-indicator`,style:this.indicatorCssVars},"function"==typeof o?o(this.handleValue1):this.handleValue1):null})})]}),this.tooltip&&this.range?t(A,null,{default:()=>[t(M,null,{default:()=>t("div",{ref:"handleRef2",class:`${e}-slider-handle`,tabindex:this.mergedDisabled?-1:0,style:this.secondHandleStyle,onFocus:this.handleHandleFocus2,onBlur:this.handleHandleBlur2,onTouchstart:this.handleSecondHandleMouseDown,onMousedown:this.handleSecondHandleMouseDown,onMouseenter:this.handleSecondHandleMouseEnter,onMouseleave:this.handleSecondHandleMouseLeave})}),t(H,{ref:"followerRef2",show:this.mergedShowTooltip2,to:this.adjustedTo,placement:this.placement,containerClass:this.namespace,teleportDisabled:this.adjustedTo===S.tdkey},{default:()=>t(i,{name:"fade-in-scale-up-transition",appear:this.isMounted,css:!(this.active&&this.prevActive)},{default:()=>this.mergedShowTooltip2?t("div",{class:`${e}-slider-handle-indicator`,style:this.indicatorCssVars},"function"==typeof o?o(this.handleValue2):this.handleValue2):null})})]}):null,this.marks?t("div",{class:`${e}-slider-marks`},this.markInfos.map((o=>t("div",{key:o.label,class:`${e}-slider-mark`,style:o.style},o.label)))):null)}});export{D as N};
