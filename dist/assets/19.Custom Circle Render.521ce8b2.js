import{b2 as t,a9 as e,i as r,w as o,cl as s,aZ as i,cm as n,bj as a,M as d,V as f}from"./TileProperty.6da85ab0.js";import{O as c}from"./OSM.2ead155c.js";import{T as p}from"./Tile.28bcaf1f.js";import{F as h,a as l,V as u}from"./Vector.c3321bd0.js";import{S as y}from"./featureloader.82820175.js";import{j as C,c as g,o as v}from"./vendor.a926ca27.js";import"./XYZ.473ba1b0.js";import"./BaseTile.190efee2.js";import"./TileLayer.24fccdef.js";var m,w=(m=function(t,e){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}m(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),b=function(a){function d(t,e,r){var o=a.call(this)||this;if(void 0!==r&&void 0===e)o.setFlatCoordinates(r,t);else{var s=e||0;o.setCenterAndRadius(t,s,r)}return o}return w(d,a),d.prototype.clone=function(){var t=new d(this.flatCoordinates.slice(),void 0,this.layout);return t.applyProperties(this),t},d.prototype.closestPointXY=function(t,e,r,o){var s=this.flatCoordinates,i=t-s[0],n=e-s[1],a=i*i+n*n;if(a<o){if(0===a)for(var d=0;d<this.stride;++d)r[d]=s[d];else{var f=this.getRadius()/Math.sqrt(a);r[0]=s[0]+f*i,r[1]=s[1]+f*n;for(d=2;d<this.stride;++d)r[d]=s[d]}return r.length=this.stride,a}return o},d.prototype.containsXY=function(t,e){var r=this.flatCoordinates,o=t-r[0],s=e-r[1];return o*o+s*s<=this.getRadiusSquared_()},d.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},d.prototype.computeExtent=function(e){var r=this.flatCoordinates,o=r[this.stride]-r[0];return t(r[0]-o,r[1]-o,r[0]+o,r[1]+o,e)},d.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())},d.prototype.getRadiusSquared_=function(){var t=this.flatCoordinates[this.stride]-this.flatCoordinates[0],e=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return t*t+e*e},d.prototype.getType=function(){return e.CIRCLE},d.prototype.intersectsExtent=function(t){var e=this.getExtent();if(r(t,e)){var s=this.getCenter();return t[0]<=s[0]&&t[2]>=s[0]||(t[1]<=s[1]&&t[3]>=s[1]||o(t,this.intersectsCoordinate.bind(this)))}return!1},d.prototype.setCenter=function(t){var e=this.stride,r=this.flatCoordinates[e]-this.flatCoordinates[0],o=t.slice();o[e]=o[0]+r;for(var s=1;s<e;++s)o[e+s]=t[s];this.setFlatCoordinates(this.layout,o),this.changed()},d.prototype.setCenterAndRadius=function(t,e,r){this.setLayout(r,t,0),this.flatCoordinates||(this.flatCoordinates=[]);var o=this.flatCoordinates,i=s(o,0,t,this.stride);o[i++]=o[0]+e;for(var n=1,a=this.stride;n<a;++n)o[i++]=o[n];o.length=i,this.changed()},d.prototype.getCoordinates=function(){return null},d.prototype.setCoordinates=function(t,e){},d.prototype.setRadius=function(t){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+t,this.changed()},d.prototype.rotate=function(t,e){var r=this.getCenter(),o=this.getStride();this.setCenter(i(r,0,r.length,o,t,e,r)),this.changed()},d.prototype.translate=function(t,e){var r=this.getCenter(),o=this.getStride();this.setCenter(n(r,0,r.length,o,t,e,r)),this.changed()},d}(a);b.prototype.transform;var j=b;const S={id:"map",class:"map"},_={setup(t){const e=new h({geometry:new j([12127405,4063906],55)});e.setStyle(new y({renderer(t,e){const[[r,o],[s,i]]=t,n=e.context,a=s-r,d=i-o,f=Math.sqrt(a*a+d*d),c=1.4*f,p=n.createRadialGradient(r,o,0,r,o,c);p.addColorStop(0,"rgba(255,0,0,0)"),p.addColorStop(.6,"#ff000020"),p.addColorStop(1,"#ff000090"),n.beginPath(),n.arc(r,o,f,0,2*Math.PI,!0),n.fillStyle=p,n.fill(),n.arc(r,o,f,0,2*Math.PI,!0),n.strokeStyle="#f00",n.stroke()}}));const r=new d({layers:[new p({source:new c({}),visible:!0}),new l({source:new u({features:[e]})})],view:new f({center:[12127405,4063906],zoom:19})});return C((()=>{r.setTarget("map")})),(t,e)=>(v(),g("div",S))}};export{_ as default};
