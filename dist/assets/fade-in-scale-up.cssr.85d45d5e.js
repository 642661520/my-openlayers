import{i as t,B as e,A as n,j as o,q as r,y as s,x as i,k as a,v as l,N as d,L as u,n as f,m as c,O as p,s as h}from"./vendor.a926ca27.js";import{j as m,C as v,m as g,o as b,a as w,b as x}from"./light.f92f6943.js";let y=[];const $=new WeakMap;function z(){y.forEach((t=>t(...$.get(t)))),y=[]}function I(t,...e){$.set(t,e),y.includes(t)||1===y.push(t)&&requestAnimationFrame(z)}function E(o){const r=t(!!o.value);if(r.value)return e(r);const s=n(o,(t=>{t&&(r.value=!0,s())}));return e(r)}var S,T;const B="undefined"!=typeof window?null===(T=null===(S=document)||void 0===S?void 0:S.fonts)||void 0===T?void 0:T.ready:void 0;let k=!1;void 0!==B?B.then((()=>{k=!0})):k=!0;const L={mousemoveoutside:new WeakMap,clickoutside:new WeakMap};function R(t,e,n){const o=L[t];let r=o.get(e);void 0===r&&o.set(e,r=new WeakMap);let s=r.get(n);return void 0===s&&r.set(n,s=function(t,e,n){if("mousemoveoutside"===t){const t=t=>{e.contains(t.target)||n(t)};return{mousemove:t,touchstart:t}}if("clickoutside"===t){let t=!1;const o=n=>{t=!e.contains(n.target)},r=o=>{t&&(e.contains(o.target)||n(o))};return{mousedown:o,mouseup:r,touchstart:o,touchend:r}}return console.error(`[evtd/create-trap-handler]: name \`${t}\` is invalid. This could be a bug of evtd.`),{}}(t,e,n)),s}const{on:Y,off:Z}=function(){if("undefined"==typeof window)return{on:()=>{},off:()=>{}};const t=new WeakMap,e=new WeakMap;function n(){t.set(this,!0)}function o(){t.set(this,!0),e.set(this,!0)}function r(t,e,n){const o=t[e];return t[e]=function(){return n.apply(t,arguments),o.apply(t,arguments)},t}function s(t,e){t[e]=Event.prototype[e]}const i=new WeakMap,a=Object.getOwnPropertyDescriptor(Event.prototype,"currentTarget");function l(){var t;return null!==(t=i.get(this))&&void 0!==t?t:null}function d(t,e){void 0!==a&&Object.defineProperty(t,"currentTarget",{configurable:!0,enumerable:!0,get:null!=e?e:a.get})}const u={bubble:{},capture:{}},f={},c=function(){const a=function(a){const{type:f,eventPhase:c,target:p,bubbles:h}=a;if(2===c)return;const m=1===c?"capture":"bubble";let v=p;const g=[];for(;null===v&&(v=window),g.push(v),v!==window;)v=v.parentNode||null;const b=u.capture[f],w=u.bubble[f];if(r(a,"stopPropagation",n),r(a,"stopImmediatePropagation",o),d(a,l),"capture"===m){if(void 0===b)return;for(let n=g.length-1;n>=0&&!t.has(a);--n){const t=g[n],o=b.get(t);if(void 0!==o){i.set(a,t);for(const t of o){if(e.has(a))break;t(a)}}if(0===n&&!h&&void 0!==w){const n=w.get(t);if(void 0!==n)for(const t of n){if(e.has(a))break;t(a)}}}}else if("bubble"===m){if(void 0===w)return;for(let n=0;n<g.length&&!t.has(a);++n){const t=g[n],o=w.get(t);if(void 0!==o){i.set(a,t);for(const t of o){if(e.has(a))break;t(a)}}}}s(a,"stopPropagation"),s(a,"stopImmediatePropagation"),d(a)};return a.displayName="evtdUnifiedHandler",a}(),p=function(){const t=function(t){const{type:e,eventPhase:n}=t;if(2!==n)return;const o=f[e];void 0!==o&&o.forEach((e=>e(t)))};return t.displayName="evtdUnifiedWindowEventHandler",t}();function h(t,e){const n=u[t];return void 0===n[e]&&(n[e]=new Map,window.addEventListener(e,c,"capture"===t)),n[e]}function m(t,e){let n=t.get(e);return void 0===n&&t.set(e,n=new Set),n}return{on:function(t,e,n,o){if(function(t,e,n,o){if("mousemoveoutside"===t||"clickoutside"===t){const r=R(t,e,n);return Object.keys(r).forEach((t=>{Y(t,document,r[t],o)})),!0}return!1}(t,e,n,o))return;const r=m(h(!0===o||"object"==typeof o&&!0===o.capture?"capture":"bubble",t),e);if(r.has(n)||r.add(n),e===window){const e=function(t){return void 0===f[t]&&(f[t]=new Set,window.addEventListener(t,p)),f[t]}(t);e.has(n)||e.add(n)}},off:function(t,e,n,o){if(function(t,e,n,o){if("mousemoveoutside"===t||"clickoutside"===t){const r=R(t,e,n);return Object.keys(r).forEach((t=>{Z(t,document,r[t],o)})),!0}return!1}(t,e,n,o))return;const r=!0===o||"object"==typeof o&&!0===o.capture,s=r?"capture":"bubble",i=h(s,t),a=m(i,e);if(e===window){if(!function(t,e,n,o){const r=u[e][n];if(void 0!==r){const e=r.get(t);if(void 0!==e&&e.has(o))return!0}return!1}(e,r?"bubble":"capture",t,n)&&function(t,e){const n=f[t];return!(void 0===n||!n.has(e))}(t,n)){const e=f[t];e.delete(n),0===e.size&&(window.removeEventListener(t,p),f[t]=void 0)}}a.has(n)&&a.delete(n),0===a.size&&i.delete(e),0===i.size&&(window.removeEventListener(t,c,"capture"===s),u[s][t]=void 0)}}}();function j(t,e){return n(t,(t=>{void 0!==t&&(e.value=t)})),s((()=>void 0===t.value?e.value:t.value))}const X=Symbol("modalBody"),O=Symbol("drawerBody"),C=Symbol("popoverBodyInjection"),W=Symbol("internal-select-menu"),A=Symbol("internal-select-menu-body");function M(t){const e=i(X,null),n=i(O,null),o=i(C,null),r=i(A,null);return m((()=>{var s;const{to:i}=t;return void 0!==i?!1===i?"__disabled__":!0===i?"body":i:(null==e?void 0:e.value)?null!==(s=e.value.$el)&&void 0!==s?s:e.value:(null==n?void 0:n.value)?n.value:(null==o?void 0:o.value)?o.value:(null==r?void 0:r.value)?r.value:null!=i?i:"body"}))}function P(t,e="default"){const n=t[e];if(void 0===n)throw new Error(`[vueuc/binder]: slot[${e}] is empty.`);return n()}M.tdkey="__disabled__",M.propTo={type:[String,Object,Boolean],default:void 0};let N=null;function _(){if(null===N&&(N=document.getElementById("v-binder-view-measurer"),null===N)){N=document.createElement("div"),N.id="v-binder-view-measurer";const{style:t}=N;t.position="fixed",t.left="0",t.right="0",t.top="0",t.bottom="0",t.pointerEvents="none",t.visibility="hidden",document.body.appendChild(N)}return N.getBoundingClientRect()}function D(t){const e=t.getBoundingClientRect(),n=_();return{left:e.left-n.left,top:e.top-n.top,bottom:n.height+n.top-e.bottom,right:n.width+n.left-e.right,width:e.width,height:e.height}}function q(t){if(null===t)return null;const e=function(t){return 9===t.nodeType?null:t.parentNode}(t);if(null===e)return null;if(9===e.nodeType)return document;if(1===e.nodeType){const{overflow:t,overflowX:n,overflowY:o}=getComputedStyle(e);if(/(auto|scroll|overlay)/.test(t+o+n))return e}return q(e)}var V=a({name:"Binder",setup(){var e;l("VBinder",null===(e=d())||void 0===e?void 0:e.proxy);const n=t(null);let o=[];const s=()=>{for(const t of o)Z("scroll",t,a,!0);o=[]},i=new Set,a=()=>{I(u)},u=()=>{i.forEach((t=>t()))},f=new Set,c=()=>{f.forEach((t=>t()))};return r((()=>{Z("resize",window,c),s()})),{targetRef:n,setTargetRef:t=>{n.value=t},addScrollListener:t=>{0===i.size&&(()=>{let t=n.value;for(;t=q(t),null!==t;)o.push(t);for(const e of o)Y("scroll",e,a,!0)})(),i.has(t)||i.add(t)},removeScrollListener:t=>{i.has(t)&&i.delete(t),0===i.size&&s()},addResizeListener:t=>{0===f.size&&Y("resize",window,c),f.has(t)||f.add(t)},removeResizeListener:t=>{f.has(t)&&f.delete(t),0===f.size&&Z("resize",window,c)}}},render(){return P(this.$slots)}}),F=a({name:"Target",setup(){const{setTargetRef:t}=i("VBinder");return{setTargetDirective:{mounted:t,updated:t}}},render(){const{setTargetDirective:t}=this;return u(function(t,e="default"){const n=t[e];if(void 0===n)throw new Error(`[vueuc/binder]: slot[${e}] is empty.`);const o=n();if(1===o.length)return o[0];throw new Error(`[vueuc/binder]: slot[${e}] should have exactly one child.`)}(this.$slots),[[t]])}});var H=new class{constructor(){this.elementZIndex=new Map,this.nextZIndex=2e3}get elementCount(){return this.elementZIndex.size}ensureZIndex(t,e){const{elementZIndex:n}=this;if(void 0!==e)return t.style.zIndex=`${e}`,void n.delete(t);const{nextZIndex:o}=this;if(n.has(t)){if(n.get(t)+1===this.nextZIndex)return}t.style.zIndex=`${o}`,n.set(t,o),this.nextZIndex=o+1,this.squashState()}unregister(t){const{elementZIndex:e}=this;var n,o;e.has(t)?e.delete(t):(n="vdirs/z-index-manager/unregister-element",o="Element not found when unregistering.",console.error(`[vdirs/${n}]: ${o}`)),this.squashState()}squashState(){const{elementCount:t}=this;t||(this.nextZIndex=2e3),this.nextZIndex-t>2500&&this.rearrange()}rearrange(){const t=Array.from(this.elementZIndex.entries());t.sort(((t,e)=>t[1]-e[1])),this.nextZIndex=2e3,t.forEach((t=>{const e=t[0],n=this.nextZIndex++;`${n}`!==e.style.zIndex&&(e.style.zIndex=`${n}`)}))}};const U="@@ziContext";var G={mounted(t,e){const{value:n={}}=e,{zIndex:o,enabled:r}=n;H.ensureZIndex(t,o),t[U]={enabled:r}},updated(t,e){const{value:n={}}=e,{zIndex:o,enabled:r}=n,s=t[U].enabled;r&&!s&&H.ensureZIndex(t,o),t[U].enabled=r},unmounted(t){H.unregister(t)}};const{c:J}=v();var K=a({name:"LazyTeleport",props:{to:{type:[String,Object],default:void 0},disabled:Boolean,show:{type:Boolean,required:!0}},setup:t=>({showTeleport:E(f(t,"show")),mergedTo:s((()=>{const{to:e}=t;return null!=e?e:"body"}))}),render(){return this.showTeleport?this.disabled?P(this.$slots):c(p,{disabled:this.disabled,to:this.mergedTo},P(this.$slots)):null}});const Q={top:"bottom",bottom:"top",left:"right",right:"left"},tt={start:"end",center:"center",end:"start"},et={top:"height",bottom:"height",left:"width",right:"width"},nt={"bottom-start":"top left",bottom:"top center","bottom-end":"top right","top-start":"bottom left",top:"bottom center","top-end":"bottom right","right-start":"top left",right:"center left","right-end":"bottom left","left-start":"top right",left:"center right","left-end":"bottom right"},ot={"bottom-start":"bottom left",bottom:"bottom center","bottom-end":"bottom right","top-start":"top left",top:"top center","top-end":"top right","right-start":"top right",right:"center right","right-end":"bottom right","left-start":"top left",left:"center left","left-end":"bottom left"},rt={"bottom-start":"right","bottom-end":"left","top-start":"right","top-end":"left","right-start":"bottom","right-end":"top","left-start":"bottom","left-end":"top"};const st=J([J(".v-binder-follower-container",{position:"absolute",left:"0",right:"0",top:"0",height:"0",pointerEvents:"none",zIndex:"auto"}),J(".v-binder-follower-content",{position:"absolute",zIndex:"auto"},[J("> *",{pointerEvents:"all"})])]);var it=a({name:"Follower",inheritAttrs:!1,props:{show:Boolean,enabled:{type:Boolean,default:void 0},placement:{type:String,default:"bottom"},syncTrigger:{type:Array,default:["resize","scroll"]},to:[String,Object],flip:{type:Boolean,default:!0},x:Number,y:Number,width:String,minWidth:String,containerClass:String,teleportDisabled:Boolean,zindexable:{type:Boolean,default:!0},zIndex:Number,overlap:Boolean},setup(e){const s=i("VBinder"),a=m((()=>void 0!==e.enabled?e.enabled:e.show)),l=t(null),d=t(null),u=()=>{const{syncTrigger:t}=e;t.includes("scroll")&&s.addScrollListener(v),t.includes("resize")&&s.addResizeListener(v)},c=()=>{s.removeScrollListener(v),s.removeResizeListener(v)};o((()=>{a.value&&(v(),u())}));const p=g();st.mount({id:"vueuc/binder",head:!0,ssr:p}),r((()=>{c()})),function(t){if(k)return;let e=!1;o((()=>{k||B.then((()=>{e||t()}))})),r((()=>{e=!0}))}((()=>{a.value&&v()}));const v=()=>{if(!a.value)return;const t=l.value;if(null===t)return;const n=s.targetRef,{x:o,y:r,overlap:i}=e,u=void 0!==o&&void 0!==r?function(t,e){const n=_();return{top:e,left:t,height:0,width:0,right:n.width-t,bottom:n.height-e}}(o,r):D(n),{width:f,minWidth:c,placement:p,flip:h}=e;t.setAttribute("v-placement",p),i?t.setAttribute("v-overlap",""):t.removeAttribute("v-overlap");const{style:m}=t;m.width="target"===f?`${u.width}px`:void 0!==f?f:"",m.minWidth="target"===c?`${u.width}px`:void 0!==c?c:"";const v=D(t),g=D(d.value),b=function(t,e,n,o,r){if(!o||r)return t;const[s,i]=t.split("-");let a=null!=i?i:"center";if("center"!==i){const o=rt[t],r=Q[o],s=et[o];n[s]>e[s]&&e[o]+e[s]<=n[s]&&e[o]<e[r]&&(a=tt[i]),n[s]<e[s]&&e[r]<0&&e[o]>e[r]&&(a=tt[i])}let l=s;return!(e[s]>=n[et[s]])&&e[Q[s]]>=n[et[s]]&&(l=Q[s]),"center"!==a?`${l}-${a}`:l}(p,u,v,h,i),w=function(t,e){return e?ot[t]:nt[t]}(b,i),{left:x,top:y,transform:$}=function(t,e,n,o){if(o)switch(t){case"bottom-start":return{top:`${n.top-e.top+n.height}px`,left:n.left-e.left+"px",transform:"translateY(-100%)"};case"bottom-end":return{top:`${n.top-e.top+n.height}px`,left:`${n.left-e.left+n.width}px`,transform:"translateX(-100%) translateY(-100%)"};case"top-start":return{top:n.top-e.top+"px",left:n.left-e.left+"px",transform:""};case"top-end":case"right-start":return{top:n.top-e.top+"px",left:`${n.left-e.left+n.width}px`,transform:"translateX(-100%)"};case"right-end":return{top:`${n.top-e.top+n.height}px`,left:`${n.left-e.left+n.width}px`,transform:"translateX(-100%) translateY(-100%)"};case"left-start":return{top:n.top-e.top+"px",left:n.left-e.left+"px",transform:""};case"left-end":return{top:`${n.top-e.top+n.height}px`,left:n.left-e.left+"px",transform:"translateY(-100%)"};case"top":return{top:n.top-e.top+"px",left:n.left-e.left+n.width/2+"px",transform:"translateX(-50%)"};case"right":return{top:n.top-e.top+n.height/2+"px",left:`${n.left-e.left+n.width}px`,transform:"translateX(-100%) translateY(-50%)"};case"left":return{top:n.top-e.top+n.height/2+"px",left:n.left-e.left+"px",transform:"translateY(-50%)"};case"bottom":default:return{top:`${n.top-e.top+n.height}px`,left:n.left-e.left+n.width/2+"px",transform:"translateX(-50%) translateY(-100%)"}}switch(t){case"bottom-start":return{top:`${n.top-e.top+n.height}px`,left:n.left-e.left+"px",transform:""};case"bottom-end":return{top:`${n.top-e.top+n.height}px`,left:`${n.left-e.left+n.width}px`,transform:"translateX(-100%)"};case"top-start":return{top:n.top-e.top+"px",left:n.left-e.left+"px",transform:"translateY(-100%)"};case"top-end":return{top:n.top-e.top+"px",left:`${n.left-e.left+n.width}px`,transform:"translateX(-100%) translateY(-100%)"};case"right-start":return{top:n.top-e.top+"px",left:`${n.left-e.left+n.width}px`,transform:""};case"right-end":return{top:`${n.top-e.top+n.height}px`,left:`${n.left-e.left+n.width}px`,transform:"translateY(-100%)"};case"left-start":return{top:n.top-e.top+"px",left:n.left-e.left+"px",transform:"translateX(-100%)"};case"left-end":return{top:`${n.top-e.top+n.height}px`,left:n.left-e.left+"px",transform:"translateX(-100%) translateY(-100%)"};case"top":return{top:n.top-e.top+"px",left:n.left-e.left+n.width/2+"px",transform:"translateY(-100%) translateX(-50%)"};case"right":return{top:n.top-e.top+n.height/2+"px",left:`${n.left-e.left+n.width}px`,transform:"translateY(-50%)"};case"left":return{top:n.top-e.top+n.height/2+"px",left:n.left-e.left+"px",transform:"translateY(-50%) translateX(-100%)"};case"bottom":default:return{top:`${n.top-e.top+n.height}px`,left:n.left-e.left+n.width/2+"px",transform:"translateX(-50%)"}}}(b,g,u,i);t.setAttribute("v-placement",b),t.style.transform=`translateX(${x}) translateY(${y}) ${$}`,t.style.transformOrigin=w};n(a,(t=>{t?(u(),w()):c()}));const w=()=>{h().then(v).catch((t=>console.error(t)))};["placement","x","y","flip","width","overlap","minWidth"].forEach((t=>{n(f(e,t),v)})),["teleportDisabled"].forEach((t=>{n(f(e,t),w)})),n(f(e,"syncTrigger"),(t=>{t.includes("resize")?s.addResizeListener(v):s.removeResizeListener(v),t.includes("scroll")?s.addScrollListener(v):s.removeScrollListener(v)}));const x=b(),y=m((()=>{const{to:t}=e;if(void 0!==t)return t;x.value}));return{VBinder:s,mergedEnabled:a,offsetContainerRef:d,followerRef:l,mergedTo:y,syncPosition:v}},render(){return c(K,{show:this.show,to:this.mergedTo,disabled:this.teleportDisabled},{default:()=>{const t=c("div",{class:["v-binder-follower-container",this.containerClass],ref:"offsetContainerRef"},[c("div",{class:"v-binder-follower-content",ref:"followerRef"},this.$slots)]);return this.zindexable?u(t,[[G,{enabled:this.mergedEnabled,zIndex:this.zIndex}]]):t}})}});const{cubicBezierEaseIn:at,cubicBezierEaseOut:lt,transformDebounceScale:dt}=x;function ut({transformOrigin:t="inherit",duration:e=".2s",enterScale:n=".9",originalTransform:o="",originalTransition:r=""}={}){return[w("&.fade-in-scale-up-transition-leave-active",{transformOrigin:t,transition:`opacity ${e} ${at}, transform ${e} ${at} ${r&&","+r}`}),w("&.fade-in-scale-up-transition-enter-active",{transformOrigin:t,transition:`opacity ${e} ${lt}, transform ${e} ${lt} ${r&&","+r}`}),w("&.fade-in-scale-up-transition-enter-from, &.fade-in-scale-up-transition-leave-to",{opacity:0,transform:`${o} scale(${n})`}),w("&.fade-in-scale-up-transition-leave-from, &.fade-in-scale-up-transition-enter-to",{opacity:1,transform:`${o} scale(${dt})`})]}export{it as V,Z as a,I as b,J as c,A as d,O as e,ut as f,j as g,F as h,W as i,V as j,X as m,Y as o,C as p,M as u};
