import{ar as e,M as a,V as r,al as t,bQ as o,ck as s,ci as n}from"./TileProperty.6da85ab0.js";import{O as i}from"./OSM.2ead155c.js";import{T as l}from"./Tile.28bcaf1f.js";import{V as c,a as d,F as m}from"./Vector.c3321bd0.js";import{n as u,g as f,S as w,f as p,a as v,F as j}from"./featureloader.82820175.js";import{j as T,c as b,o as S,F as x,b as y}from"./vendor.a926ca27.js";import"./XYZ.473ba1b0.js";import"./BaseTile.190efee2.js";import"./TileLayer.24fccdef.js";const g=y("div",{id:"map",class:"map"},null,-1),h=y("div",null,"知识点：",-1),F=y("div",null,"source配置项 wrapX 设置x轴是否重复显示地图",-1),M=y("div",null,"view配置项 multiWorld 设置是否可以缩小地图到地图外",-1),P=y("div",null,'source添加feature触发事件 source.on("addfeature", function (e){});',-1),X={setup(y){const X=new l({source:new i({wrapX:!1})}),k=new c({wrapX:!1}),V=new d({source:k}),G=new a({layers:[X,V],view:new r({center:[0,0],zoom:2,multiWorld:!0})}),O=()=>{const e=360*Math.random()-180,a=170*Math.random()-85,r=new t(o([e,a])),s=new m(r);s.setStyle(new w({image:new p({radius:5,stroke:new v({width:1,color:"#58a"}),fill:new j({color:"#bfa"})})})),k.addFeature(s)},W=a=>{const r=Date.now(),t=a.getGeometry().clone(),o=X.on("postrender",(a=>{const i=a.frameState.time-r;if(i>=500)return void s(o);const l=function(a){var r=a.inversePixelTransform[0],t=a.frameState,o=e(a.inversePixelTransform.slice(),t.coordinateToPixelTransform),s=f(t.viewState.resolution,r);return new u(a.context,r,t.extent,o,t.viewState.rotation,s,void 0)}(a),c=i/500,d=25*n(c)+5,m=n(1-c),j=new w({image:new p({radius:d,stroke:new v({color:"rgba(255,0,0"+m+")",width:.25+m})})});l.setStyle(j),l.drawGeometry(t),G.render()}))};return k.on("addfeature",(function(e){W(e.feature)})),T((()=>{G.setTarget("map"),setInterval(O,1e3)})),(e,a)=>(S(),b(x,null,[g,h,F,M,P],64))}};export{X as default};
