import{z as e,y as t,E as r,bA as n,_ as i,k as o,am as a,a as s,bB as u,a5 as h,a4 as l,a3 as d,i as c,ao as f,R as p,S as _,an as y,ap as g,bC as v,aR as m,D as x,bD as E,a7 as I,ay as C,b2 as F,bE as R,bF as G,bG as b,ba as w,bH as S,bI as A,bJ as O,ae as N,bK as T,bL as j,bM as D}from"./TileProperty.6da85ab0.js";import{H as X,c as P,h as L,C as Y,i as K,d as M,r as H,j as W,g as B,B as U,k as z,x as k}from"./featureloader.82820175.js";import{a as q}from"./TileLayer.24fccdef.js";var V,Z=(V=function(e,t){return(V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}V(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});var J=function(n){function o(e){var t=n.call(this)||this;if(t.on,t.once,t.un,t.id_=void 0,t.geometryName_="geometry",t.style_=null,t.styleFunction_=void 0,t.geometryChangeKey_=null,t.addChangeListener(t.geometryName_,t.handleGeometryChanged_),e)if("function"==typeof e.getSimplifiedGeometry){var r=e;t.setGeometry(r)}else{var i=e;t.setProperties(i)}return t}return Z(o,n),o.prototype.clone=function(){var e=new o(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());var t=this.getGeometry();t&&e.setGeometry(t.clone());var r=this.getStyle();return r&&e.setStyle(r),e},o.prototype.getGeometry=function(){return this.get(this.geometryName_)},o.prototype.getId=function(){return this.id_},o.prototype.getGeometryName=function(){return this.geometryName_},o.prototype.getStyle=function(){return this.style_},o.prototype.getStyleFunction=function(){return this.styleFunction_},o.prototype.handleGeometryChange_=function(){this.changed()},o.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(e(this.geometryChangeKey_),this.geometryChangeKey_=null);var n=this.getGeometry();n&&(this.geometryChangeKey_=t(n,r.CHANGE,this.handleGeometryChange_,this)),this.changed()},o.prototype.setGeometry=function(e){this.set(this.geometryName_,e)},o.prototype.setStyle=function(e){this.style_=e,this.styleFunction_=e?function(e){if("function"==typeof e)return e;var t;Array.isArray(e)?t=e:(i("function"==typeof e.getZIndex,41),t=[e]);return function(){return t}}(e):void 0,this.changed()},o.prototype.setId=function(e){this.id_=e,this.changed()},o.prototype.setGeometryName=function(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()},o}(n),Q=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),$=function(e){function t(t){var r=e.call(this,t)||this;return r.boundHandleStyleImageChange_=r.handleStyleImageChange_.bind(r),r.animatingOrInteracting_,r.dirty_=!1,r.hitDetectionImageData_=null,r.renderedFeatures_=null,r.renderedRevision_=-1,r.renderedResolution_=NaN,r.renderedExtent_=o(),r.wrappedRenderedExtent_=o(),r.renderedRotation_,r.renderedCenter_=null,r.renderedProjection_=null,r.renderedRenderOrder_=null,r.replayGroup_=null,r.replayGroupChanged=!0,r.declutterExecutorGroup=null,r.clipping=!0,r}return Q(t,e),t.prototype.useContainer=function(t,r,n){n<1&&(t=null),e.prototype.useContainer.call(this,t,r,n)},t.prototype.renderWorlds=function(e,t,r){var n=t.extent,i=t.viewState,o=i.center,u=i.resolution,h=i.projection,l=i.rotation,d=h.getExtent(),c=this.getLayer().getSource(),f=t.pixelRatio,p=t.viewHints,_=!(p[a.ANIMATING]||p[a.INTERACTING]),y=this.context,g=Math.round(t.size[0]*f),v=Math.round(t.size[1]*f),m=c.getWrapX()&&h.canWrapX(),x=m?s(d):null,E=m?Math.ceil((n[2]-d[2])/x)+1:1,I=m?Math.floor((n[0]-d[0])/x):0;do{var C=this.getRenderTransform(o,u,l,f,g,v,I*x);e.execute(y,1,C,l,_,void 0,r)}while(++I<E)},t.prototype.renderDeclutter=function(e){this.declutterExecutorGroup&&this.renderWorlds(this.declutterExecutorGroup,e,e.declutterTree)},t.prototype.renderFrame=function(e,t){var r=e.pixelRatio,n=e.layerStatesArray[e.layerIndex];u(this.pixelTransform,1/r,1/r),h(this.inversePixelTransform,this.pixelTransform);var i=l(this.pixelTransform);this.useContainer(t,i,n.opacity);var o=this.context,a=o.canvas,s=this.replayGroup_,_=this.declutterExecutorGroup;if((!s||s.isEmpty())&&(!_||_.isEmpty()))return null;var y=Math.round(e.size[0]*r),g=Math.round(e.size[1]*r);a.width!=y||a.height!=g?(a.width=y,a.height=g,a.style.transform!==i&&(a.style.transform=i)):this.containerReused||o.clearRect(0,0,y,g),this.preRender(o,e);var v=e.viewState;v.projection;var m=!1,x=!0;if(n.extent&&this.clipping){var E=d(n.extent);(m=(x=c(E,e.extent))&&!f(E,e.extent))&&this.clipUnrotated(o,e,E)}x&&this.renderWorlds(s,e),m&&o.restore(),this.postRender(o,e);var I=p(n.opacity),C=this.container;return I!==C.style.opacity&&(C.style.opacity=I),this.renderedRotation_!==v.rotation&&(this.renderedRotation_=v.rotation,this.hitDetectionImageData_=null),this.container},t.prototype.getFeatures=function(e){return new Promise(function(t){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var r=[this.context.canvas.width,this.context.canvas.height];_(this.pixelTransform,r);var n=this.renderedCenter_,i=this.renderedResolution_,o=this.renderedRotation_,a=this.renderedProjection_,u=this.wrappedRenderedExtent_,h=this.getLayer(),l=[],d=r[0]*X,c=r[1]*X;l.push(this.getRenderTransform(n,i,o,X,d,c,0).slice());var p=h.getSource(),y=a.getExtent();if(p.getWrapX()&&a.canWrapX()&&!f(y,u)){for(var g=u[0],v=s(y),m=0,x=void 0;g<y[0];)x=v*--m,l.push(this.getRenderTransform(n,i,o,X,d,c,x).slice()),g+=v;for(m=0,g=u[2];g>y[2];)x=v*++m,l.push(this.getRenderTransform(n,i,o,X,d,c,x).slice()),g-=v}this.hitDetectionImageData_=P(r,l,this.renderedFeatures_,h.getStyleFunction(),u,i,o)}t(L(e,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))},t.prototype.forEachFeatureAtCoordinate=function(e,t,r,n,i){var o=this;if(this.replayGroup_){var a,s=t.viewState.resolution,u=t.viewState.rotation,h=this.getLayer(),l={},d=function(e,t,r){var o=x(e),a=l[o];if(a){if(!0!==a&&r<a.distanceSq){if(0===r)return l[o]=!0,i.splice(i.lastIndexOf(a),1),n(e,h,t);a.geometry=t,a.distanceSq=r}}else{if(0===r)return l[o]=!0,n(e,h,t);i.push(l[o]={feature:e,layer:h,geometry:t,distanceSq:r,callback:n})}},c=[this.replayGroup_];return this.declutterExecutorGroup&&c.push(this.declutterExecutorGroup),c.some((function(n){return a=n.forEachFeatureAtCoordinate(e,s,u,r,d,n===o.declutterExecutorGroup?t.declutterTree.all().map((function(e){return e.value})):null)})),a}},t.prototype.handleFontsChanged=function(){var e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()},t.prototype.handleStyleImageChange_=function(e){this.renderIfReadyAndVisible()},t.prototype.prepareFrame=function(e){var t=this.getLayer(),r=t.getSource();if(!r)return!1;var n=e.viewHints[a.ANIMATING],i=e.viewHints[a.INTERACTING],o=t.getUpdateWhileAnimating(),u=t.getUpdateWhileInteracting();if(!this.dirty_&&!o&&n||!u&&i)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var h=e.extent,l=e.viewState,d=l.projection,c=l.resolution,p=e.pixelRatio,_=t.getRevision(),x=t.getRenderBuffer(),I=t.getRenderOrder();void 0===I&&(I=W);var C=l.center.slice(),F=y(h,x*c),R=F.slice(),G=[F.slice()],b=d.getExtent();if(r.getWrapX()&&d.canWrapX()&&!f(b,e.extent)){var w=s(b),S=Math.max(s(F)/2,w);F[0]=b[0]-S,F[2]=b[2]+S,g(C,d);var A=v(G[0],d);A[0]<b[0]&&A[2]<b[2]?G.push([A[0]+w,A[1],A[2]+w,A[3]]):A[0]>b[0]&&A[2]>b[2]&&G.push([A[0]-w,A[1],A[2]-w,A[3]])}if(!this.dirty_&&this.renderedResolution_==c&&this.renderedRevision_==_&&this.renderedRenderOrder_==I&&f(this.wrappedRenderedExtent_,F))return m(this.renderedExtent_,R)||(this.hitDetectionImageData_=null,this.renderedExtent_=R),this.renderedCenter_=C,this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var O,N=new Y(K(c,p),F,c,p);this.getLayer().getDeclutter()&&(O=new Y(K(c,p),F,c,p));for(var T=0,j=G.length;T<j;++T)r.loadFeatures(G[T],c,d);var D=B(c,p),X=function(e){var r,n=e.getStyleFunction()||t.getStyleFunction();if(n&&(r=n(e,c)),r){var i=this.renderFeature(e,D,r,N,undefined,O);this.dirty_=this.dirty_||i}}.bind(this),P=E(F),L=r.getFeaturesInExtent(P);I&&L.sort(I);for(T=0,j=L.length;T<j;++T)X(L[T]);this.renderedFeatures_=L;var H=N.finish(),U=new M(F,c,p,r.getOverlaps(),H,t.getRenderBuffer());return O&&(this.declutterExecutorGroup=new M(F,c,p,r.getOverlaps(),O.finish(),t.getRenderBuffer())),this.renderedResolution_=c,this.renderedRevision_=_,this.renderedRenderOrder_=I,this.renderedExtent_=R,this.wrappedRenderedExtent_=F,this.renderedCenter_=C,this.renderedProjection_=d,this.replayGroup_=U,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},t.prototype.renderFeature=function(e,t,r,n,i,o){if(!r)return!1;var a=!1;if(Array.isArray(r))for(var s=0,u=r.length;s<u;++s)a=H(n,e,r[s],t,this.boundHandleStyleImageChange_,i,o)||a;else a=H(n,e,r,t,this.boundHandleStyleImageChange_,i,o);return a},t}(q),ee=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),te=function(e){function t(t){return e.call(this,t)||this}return ee(t,e),t.prototype.createRenderer=function(){return new $(this)},t}(U),re=function(){function e(e){this.rbush_=new z(e),this.items_={}}return e.prototype.insert=function(e,t){var r={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(r),this.items_[x(t)]=r},e.prototype.load=function(e,t){for(var r=new Array(t.length),n=0,i=t.length;n<i;n++){var o=e[n],a=t[n],s={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],value:a};r[n]=s,this.items_[x(a)]=s}this.rbush_.load(r)},e.prototype.remove=function(e){var t=x(e),r=this.items_[t];return delete this.items_[t],null!==this.rbush_.remove(r)},e.prototype.update=function(e,t){var r=this.items_[x(t)],n=[r.minX,r.minY,r.maxX,r.maxY];I(n,e)||(this.remove(t),this.insert(e,t))},e.prototype.getAll=function(){return this.rbush_.all().map((function(e){return e.value}))},e.prototype.getInExtent=function(e){var t={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_.search(t).map((function(e){return e.value}))},e.prototype.forEach=function(e){return this.forEach_(this.getAll(),e)},e.prototype.forEachInExtent=function(e,t){return this.forEach_(this.getInExtent(e),t)},e.prototype.forEach_=function(e,t){for(var r,n=0,i=e.length;n<i;n++)if(r=t(e[n]))return r;return r},e.prototype.isEmpty=function(){return C(this.items_)},e.prototype.clear=function(){this.rbush_.clear(),this.items_={}},e.prototype.getExtent=function(e){var t=this.rbush_.toJSON();return F(t.minX,t.minY,t.maxX,t.maxY,e)},e.prototype.concat=function(e){for(var t in this.rbush_.load(e.rbush_.all()),e.items_)this.items_[t]=e.items_[t]},e}(),ne="addfeature",ie="changefeature",oe="clear",ae="removefeature",se="featuresloadstart",ue="featuresloadend",he="featuresloaderror";function le(e,t){return[[-1/0,-1/0,1/0,1/0]]}function de(e){return function(t,r,n){var i=e.getZForResolution(R(r)),o=e.getTileRangeForExtentAndZ(d(t),i),a=[],s=[i,0,0];for(s[1]=o.minX;s[1]<=o.maxX;++s[1])for(s[2]=o.minY;s[2]<=o.maxY;++s[2])a.push(E(e.getTileCoordExtent(s)));return a}}var ce=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),fe=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.feature=r,i.features=n,i}return ce(t,e),t}(G),pe=function(n){function o(e){var t=this,r=e||{};(t=n.call(this,{attributions:r.attributions,projection:void 0,state:b.READY,wrapX:void 0===r.wrapX||r.wrapX})||this).on,t.once,t.un,t.loader_=w,t.format_=r.format,t.overlaps_=void 0===r.overlaps||r.overlaps,t.url_=r.url,void 0!==r.loader?t.loader_=r.loader:void 0!==t.url_&&(i(t.format_,7),t.loader_=k(t.url_,t.format_)),t.strategy_=void 0!==r.strategy?r.strategy:le;var o,a,s=void 0===r.useSpatialIndex||r.useSpatialIndex;return t.featuresRtree_=s?new re:null,t.loadedExtentsRtree_=new re,t.loadingExtentsCount_=0,t.nullGeometryFeatures_={},t.idIndex_={},t.uidIndex_={},t.featureChangeKeys_={},t.featuresCollection_=null,Array.isArray(r.features)?a=r.features:r.features&&(a=(o=r.features).getArray()),s||void 0!==o||(o=new S(a)),void 0!==a&&t.addFeaturesInternal(a),void 0!==o&&t.bindFeaturesCollection_(o),t}return ce(o,n),o.prototype.addFeature=function(e){this.addFeatureInternal(e),this.changed()},o.prototype.addFeatureInternal=function(e){var t=x(e);if(this.addToIndex_(t,e)){this.setupChangeEvents_(t,e);var r=e.getGeometry();if(r){var n=r.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(n,e)}else this.nullGeometryFeatures_[t]=e;this.dispatchEvent(new fe(ne,e))}else this.featuresCollection_&&this.featuresCollection_.remove(e)},o.prototype.setupChangeEvents_=function(e,n){this.featureChangeKeys_[e]=[t(n,r.CHANGE,this.handleFeatureChange_,this),t(n,A.PROPERTYCHANGE,this.handleFeatureChange_,this)]},o.prototype.addToIndex_=function(e,t){var r=!0,n=t.getId();return void 0!==n&&(n.toString()in this.idIndex_?r=!1:this.idIndex_[n.toString()]=t),r&&(i(!(e in this.uidIndex_),30),this.uidIndex_[e]=t),r},o.prototype.addFeatures=function(e){this.addFeaturesInternal(e),this.changed()},o.prototype.addFeaturesInternal=function(e){for(var t=[],r=[],n=[],i=0,o=e.length;i<o;i++){var a=e[i],s=x(a);this.addToIndex_(s,a)&&r.push(a)}i=0;for(var u=r.length;i<u;i++){a=r[i],s=x(a);this.setupChangeEvents_(s,a);var h=a.getGeometry();if(h){var l=h.getExtent();t.push(l),n.push(a)}else this.nullGeometryFeatures_[s]=a}this.featuresRtree_&&this.featuresRtree_.load(t,n);i=0;for(var d=r.length;i<d;i++)this.dispatchEvent(new fe(ne,r[i]))},o.prototype.bindFeaturesCollection_=function(e){var t=!1;this.addEventListener(ne,(function(r){t||(t=!0,e.push(r.feature),t=!1)})),this.addEventListener(ae,(function(r){t||(t=!0,e.remove(r.feature),t=!1)})),e.addEventListener(O.ADD,function(e){t||(t=!0,this.addFeature(e.element),t=!1)}.bind(this)),e.addEventListener(O.REMOVE,function(e){t||(t=!0,this.removeFeature(e.element),t=!1)}.bind(this)),this.featuresCollection_=e},o.prototype.clear=function(t){if(t){for(var r in this.featureChangeKeys_){this.featureChangeKeys_[r].forEach(e)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_)for(var n in this.featuresRtree_.forEach(this.removeFeatureInternal.bind(this)),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[n]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var i=new fe(oe);this.dispatchEvent(i),this.changed()},o.prototype.forEachFeature=function(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},o.prototype.forEachFeatureAtCoordinateDirect=function(e,t){var r=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(r,(function(r){return r.getGeometry().intersectsCoordinate(e)?t(r):void 0}))},o.prototype.forEachFeatureInExtent=function(e,t){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},o.prototype.forEachFeatureIntersectingExtent=function(e,t){return this.forEachFeatureInExtent(e,(function(r){if(r.getGeometry().intersectsExtent(e)){var n=t(r);if(n)return n}}))},o.prototype.getFeaturesCollection=function(){return this.featuresCollection_},o.prototype.getFeatures=function(){var e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),C(this.nullGeometryFeatures_)||N(e,T(this.nullGeometryFeatures_))),e},o.prototype.getFeaturesAtCoordinate=function(e){var t=[];return this.forEachFeatureAtCoordinateDirect(e,(function(e){t.push(e)})),t},o.prototype.getFeaturesInExtent=function(e){return this.featuresRtree_?this.featuresRtree_.getInExtent(e):this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]},o.prototype.getClosestFeatureToCoordinate=function(e,t){var r=e[0],n=e[1],i=null,o=[NaN,NaN],a=1/0,s=[-1/0,-1/0,1/0,1/0],u=t||D;return this.featuresRtree_.forEachInExtent(s,(function(e){if(u(e)){var t=e.getGeometry(),h=a;if((a=t.closestPointXY(r,n,o,a))<h){i=e;var l=Math.sqrt(a);s[0]=r-l,s[1]=n-l,s[2]=r+l,s[3]=n+l}}})),i},o.prototype.getExtent=function(e){return this.featuresRtree_.getExtent(e)},o.prototype.getFeatureById=function(e){var t=this.idIndex_[e.toString()];return void 0!==t?t:null},o.prototype.getFeatureByUid=function(e){var t=this.uidIndex_[e];return void 0!==t?t:null},o.prototype.getFormat=function(){return this.format_},o.prototype.getOverlaps=function(){return this.overlaps_},o.prototype.getUrl=function(){return this.url_},o.prototype.handleFeatureChange_=function(e){var t=e.target,r=x(t),n=t.getGeometry();if(n){var i=n.getExtent();r in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[r],this.featuresRtree_&&this.featuresRtree_.insert(i,t)):this.featuresRtree_&&this.featuresRtree_.update(i,t)}else r in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(t),this.nullGeometryFeatures_[r]=t);var o=t.getId();if(void 0!==o){var a=o.toString();this.idIndex_[a]!==t&&(this.removeFromIdIndex_(t),this.idIndex_[a]=t)}else this.removeFromIdIndex_(t),this.uidIndex_[r]=t;this.changed(),this.dispatchEvent(new fe(ie,t))},o.prototype.hasFeature=function(e){var t=e.getId();return void 0!==t?t in this.idIndex_:x(e)in this.uidIndex_},o.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&C(this.nullGeometryFeatures_)},o.prototype.loadFeatures=function(e,t,r){for(var n=this.loadedExtentsRtree_,i=this.strategy_(e,t,r),o=function(e,o){var s=i[e];n.forEachInExtent(s,(function(e){return f(e.extent,s)}))||(++a.loadingExtentsCount_,a.dispatchEvent(new fe(se)),a.loader_.call(a,s,t,r,function(e){--this.loadingExtentsCount_,this.dispatchEvent(new fe(ue,void 0,e))}.bind(a),function(){--this.loadingExtentsCount_,this.dispatchEvent(new fe(he))}.bind(a)),n.insert(s,{extent:s.slice()}))},a=this,s=0,u=i.length;s<u;++s)o(s);this.loading=!(this.loader_.length<4)&&this.loadingExtentsCount_>0},o.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),n.prototype.refresh.call(this)},o.prototype.removeLoadedExtent=function(e){var t,r=this.loadedExtentsRtree_;r.forEachInExtent(e,(function(r){if(I(r.extent,e))return t=r,!0})),t&&r.remove(t)},o.prototype.removeFeature=function(e){var t=x(e);t in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[t]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.removeFeatureInternal(e),this.changed()},o.prototype.removeFeatureInternal=function(t){var r=x(t);this.featureChangeKeys_[r].forEach(e),delete this.featureChangeKeys_[r];var n=t.getId();void 0!==n&&delete this.idIndex_[n.toString()],delete this.uidIndex_[r],this.dispatchEvent(new fe(ae,t))},o.prototype.removeFromIdIndex_=function(e){var t=!1;for(var r in this.idIndex_)if(this.idIndex_[r]===e){delete this.idIndex_[r],t=!0;break}return t},o.prototype.setLoader=function(e){this.loader_=e},o.prototype.setUrl=function(e){i(this.format_,7),this.url_=e,this.setLoader(k(e,this.format_))},o}(j);export{J as F,pe as V,te as a,de as t};
